{# Copyright (C) 2012 - 2014 Open Source Matters, Inc. All rights reserved. #}
{# GNU General Public License version 2 or later; see LICENSE.txt #}

{% extends "index.twig" %}

{% block title %}{{ parent() }} | Edit Project{% endblock %}

{% block prependMenu %}
    <li>
        <a class="nav-link bg-success" href="javascript:;" onclick="document.editForm.submit();">Save</a>
    </li>
    {% if project.project_id %}
        <li>
            <a href="{{ uri.base.path }}project/{{ project.project_id }}/delete" class="btn-danger">Delete</a>
        </li>
    {% endif %}

    {{ parent() }}

{% endblock %}

{% block content %}
    <div class="page-header">
        {% if project.project_id %}
            <h1>Edit project</h1>
        {% else %}
            <h1>New project</h1>
        {% endif %}
    </div>

    <form method="post" action="{{ uri.base.path }}saveproject" class="form-horizontal" name="editForm">
        <fieldset>
            <legend>Details</legend>
            <div class="control-group">
                <label class="control-label" for="title">Title</label>
                <div class="controls">
                    <input type="text" name="project[title]" id="title" value="{{ project.title }}">
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="short_title">Short Title</label>
                <div class="controls">
                    <input type="text" name="project[short_title]" id="short_title" value="{{ project.short_title }}">
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="alias">Alias</label>
                <div class="controls">
                    <input type="text" name="project[alias]" id="alias" value="{{ project.alias }}">
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="gh_user">GitHub Owner</label>
                <div class="controls">
                    <input type="text" name="project[gh_user]" id="gh_user" value="{{ project.gh_user }}">
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="gh_project">GitHub Repo</label>
                <div class="controls">
                    <input type="text" name="project[gh_project]" id="gh_project" value="{{ project.gh_project }}">
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="gh_editbot_user">GitHub Editbot user</label>
                <div class="controls">
                    <input type="text" name="project[gh_editbot_user]" id="gh_editbot_user" value="{{ project.gh_editbot_user }}">
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="gh_editbot_pass">GitHub Editbot password</label>
                <div class="controls">
                    <input type="password" name="project[gh_editbot_pass]" id="gh_editbot_pass" value="{{ project.gh_editbot_pass }}">
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="ext_tracker_link">External Tracker Link</label>
                <div class="controls">
                    <input type="text" name="project[ext_tracker_link]" id="ext_tracker_link" value="{{ project.ext_tracker_link }}">
                </div>
            </div>

            <input type="hidden" name="project[project_id]" value="{{ project.project_id }}">

        </fieldset>
    </form>

{% endblock %}
